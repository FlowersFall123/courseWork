<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/aop https://www.springframework.org/schema/aop/spring-aop.xsd">

    <bean id="service" class="service.impl.UserServiceImpl" />
    <bean id="loggerBefore" class="aop.LoggerBefore"/>
    <bean id="loggerAfterReturning" class="aop.LoggerAfterReturning"/>

<!--  当您的程序代码中调用 service.addNewUser(user) 时，实际发生的流程如下：
      1.Spring 拦截：Spring 发现这个方法符合 pointcut 的规则。
      2.执行前置通知：先运行 loggerBefore.before() 代码（比如打印 "准备添加用户..."）。
      3.执行目标方法：运行 UserServiceImpl.addNewUser()（真正的业务逻辑，比如存数据库）。
      4.执行后置通知：运行 loggerAfterReturning.afterReturning() 代码（比如打印 "用户添加成功！"）。
-->
    <aop:config>
        <aop:pointcut id="pointcut" expression="execution(public void save(entity.User))"/>
        <aop:advisor advice-ref="loggerBefore" pointcut-ref="pointcut"/>
        <aop:advisor advice-ref="loggerAfterReturning" pointcut-ref="pointcut"/>
    </aop:config>





<!--  =============================IOC============================  -->

<!--  BoyConstruct.java  -->
    <bean id="chinaGirlFriend" class="entity.ChinaGirlFriend">
        <property name="language" value="chinese" />
    </bean>
    <bean id="boyConstructor" class="constructor.BoyConstructor">
        <constructor-arg ref="chinaGirlFriend" />
    </bean>

<!--  BoyPNameSpace.java  -->
    <bean id="usaGirlFriend" class="entity.UsaGirlFriend">
        <property name="language" value="english" />
    </bean>
    <bean id="boyPNameSpace" class="constructor.BoyPNameSpace">
        <property name="girlFriend" ref="usaGirlFriend" />
    </bean>

<!--  BoySetter.java  -->
    <bean id="japanGirlFriend" class="entity.JapanGirlFriend">
        <property name="language" value="japanese" />
    </bean>
    <bean id="boySetter" class="constructor.BoySetter">
        <property name="girlFriend" ref="japanGirlFriend" />
    </bean>

    <bean id="dataType" class="constructor.DataType">
<!--    使用<![CDATA[EP&G]]>标记处理XML特殊字符    -->
        <property name="specialCharacter1">
            <value><![CDATA[EP&G]]></value>
        </property>
<!--    把XML的特殊字符替换为实体引用    -->
        <property name="specialCharacter2">
            <value>EP&amp;G</value>
        </property>
<!--    定义内部Bean    -->
        <property name="innerBean">
            <bean class="entity.User">
                <property name="username" value="suanyun" />
            </bean>
        </property>
<!--    注入List类型    -->
        <property name="list">
            <list>
                <value>乒乓球</value>
                <value>羽毛球</value>
                <value>篮球</value>
                <value>足球</value>
            </list>
        </property>
<!--    注入Properties类型    -->
        <property name="properties">
            <props>
                <prop key="name">suanyun</prop>
                <prop key="age">18</prop>
            </props>
        </property>
<!--    注入空字符串值    -->
        <property name="emptyValue">
            <value/>
        </property>
<!--    注入null值    -->
        <property name="nullValue">
            <null />
        </property>
    </bean>
<!--  =============================IOC============================  -->
	
</beans>